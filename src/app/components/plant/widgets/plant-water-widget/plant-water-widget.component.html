@if (plantService.plant$ | async; as plant) {
  <mat-expansion-panel>
    <mat-expansion-panel-header>
      <mat-panel-title>
        {{ 'general.watering' | translate }}
      </mat-panel-title>
      <mat-panel-description class="expansion-panel-icon-right">
        <mat-icon>water_drop</mat-icon>
      </mat-panel-description>
    </mat-expansion-panel-header>
  
    @if (plant.waterFreq || plant.waterLast) {
      @if (plant.waterLast) {
        <p>
          <b>{{ 'general.lastTime' | translate }}</b> {{ plant.waterLast | date }}
        </p>
      }

      @if (plant.waterFreq) {
        <p
          [innerHTML]="'plant-widget-water.freq' | translate:{ days: plant.waterFreq }"
        >
      </p>
      }

      @if (plant.waterNext) {
        <p>
          @if (plant.waterNext | daysAgo:false; as days) {
            <b>{{ 'general.nextTime' | translate }}</b>
            
            @if (days < 0) {
              <span [ngStyle]="{ 'color': 'red' }">
                {{ 'general.daysAgo' | translate:{ days: (plant.waterNext | daysAgo) } }}
              </span>
            } @else {
              {{ 'general.daysCount' | translate:{ days: (plant.waterNext | daysAgo) } }}
            }
          }
        </p>
      }
    } @else {
      <p>{{ 'plant-widget-water.noData' | translate }}</p>
    }
  
    @if (plantService.owned) {
      <mat-action-row>
        <button mat-button color="primary" (click)="openWaterDialog()">
          {{ 'plant-widget-water.now' | translate }}
        </button>
        <button mat-button color="primary" (click)="openEdit()">
          {{ 'general.edit' | translate }}
        </button>
      </mat-action-row>
    }
  </mat-expansion-panel>
}